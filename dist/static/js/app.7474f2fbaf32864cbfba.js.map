{"version":3,"sources":["webpack:///src/components/Xeditor.vue","webpack:///./src/components/Xeditor.vue?6b58","webpack:///./src/components/Xeditor.vue","webpack:///src/components/RuleEditor.vue","webpack:///./src/components/RuleEditor.vue?f3f9","webpack:///./src/components/RuleEditor.vue","webpack:///src/components/SingleTest.vue","webpack:///./src/components/SingleTest.vue?8782","webpack:///./src/components/SingleTest.vue","webpack:///src/components/MutiTest.vue","webpack:///./src/components/MutiTest.vue?a012","webpack:///./src/components/MutiTest.vue","webpack:///src/App.vue","webpack:///./src/App.vue?95ed","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/xhr.js","webpack:///./src/strm.js"],"names":["Xeditor","String","autoHeight","r","value","components_Xeditor","render","_h","this","$createElement","_self","_c","ref","staticClass","attrs","spellcheck","on","input","_v","_s","data","staticRenderFns","src_components_Xeditor","__webpack_require__","normalizeComponent","ssrContext","RuleEditor","i","tmp","$forceUpdate","components_RuleEditor","_vm","_l","rule","index","change","$event","editRule","selected","_e","rules","length","directives","name","rawName","expression","$$selectedVal","Array","prototype","filter","call","target","options","o","map","_value","$set","multiple","env","domProps","cond","RULES","type","paramA","paramB","RULE","key","title","c","datatype","model","callback","$$v","click","addCond","checked","isArray","removeMatched","_i","$$a","$$el","$$c","$$i","concat","slice","addRule","src_components_RuleEditor","RuleEditor_normalizeComponent","SingleTest","_this","cmp","destCode","components_SingleTest","id","srcCode","con","class","pass","errMessage","errData","message","innerHTML","srcDiff","destDiff","MutiTest","undefined","dest","e","components_MutiTest","_m","testCase","err","res","assume","src","mapStatus","check","SingleTest_normalizeComponent","MutiTest_normalizeComponent","files","selectortype_template_index_0_src_App","active","editing","ruleId","editItem","file","fileId","editFile","addFile","save","setEnv","testing","test","src_App","App_normalizeComponent","App","vue_esm","use","vuex_esm","config","productionTip","store","Store","state","getters","getRules","mutations","setRuleAndFile","_ref","strm_default","a","BuildRules","watch","oldValue","newValue","deep","xhr_default","GET","location","hostname","commit","el","components","template","ENVS","xhr","method","url","XMLHttpRequest","open","setRequestHeader","re","push","encodeURIComponent","onreadystatechange","readyState","status","JSON","parse","responseText","send","join","module","exports","POST","POSTStr","BuildTree","str","cres","j","match","BuildTreeByGroup","groups","group","k","MatchTree","tree","init","currentNode","charAt","begin","end","MatchTreeAllByGroup","matches","htmlencode","s","div","document","createElement","appendChild","createTextNode","highlightMatches","low","substring","markMatches","maxCount","arguments","lang","origin","initConfig","cfg","parsePairFile","srcRaw","destRaw","regRules","valid","b","matchesA","matchesB","errors","matchA","matchB","t","regRule","exec","source","replacedA","replacedB","replace","matchA2B","contain","split","onlyContain","endWith","reverse","l","highlightMatchesRev","startWith","matchReg","reg","RegExp","notMatchReg","Rule","conds","act","parsed","\n","text","lines","mean","trim","indexOf","pair","code","substr","notEndWith","invert","line","lastTest","rs","runCallbacks","callbacks","rulesConfig","validData","ta","tb","simple","mmo","diffs","onRuleChange"],"mappings":"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","file":"static/js/app.7474f2fbaf32864cbfba.js","sourcesContent":["<template>\n  <textarea ref=\"r\" class=\"xeditor\" spellcheck=\"false\" v-on:input=\"input\">{{data}}</textarea>\n</template>\n\n<script>\nexport default {\n  name: 'Xeditor',\n  model: {\n    prop: 'data',\n  },\n  props: {\n    'data': String\n  },\n  mounted() {\n    this.autoHeight()\n  },\n  methods: {\n    autoHeight() {\n      var textarea = this.$refs.r;\n      textarea.style.height = \"0px\"; /* Reset the height*/\n      textarea.style.height = textarea.scrollHeight + \"px\";\n    },\n    input(e) {\n      this.autoHeight();\n      this.$emit('input', e.target.value)\n    }\n  }\n}\n</script>\n<style>\n.xeditor { \n  background: #fff;\n  display: block;\n  overflow-y: hidden;\n  padding: 10px;\n  color: #000;\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 14px;\n  border-radius: 6px;\n  box-shadow: 2px 2px 8px rgba(0,0,0, .3);\n  border: 0;\n  resize: none;\n}\n.xeditor:focus {\n  outline: none;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Xeditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{ref:\"r\",staticClass:\"xeditor\",attrs:{\"spellcheck\":\"false\"},on:{\"input\":_vm.input}},[_vm._v(_vm._s(_vm.data))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-52602efa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Xeditor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-52602efa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Xeditor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Xeditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Xeditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-52602efa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Xeditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Xeditor.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"editArea\">\n    <div class=\"rulePanel\" v-for=\"(rule,index) in rules\">\n      <select v-on:change=\"editRule($event, index)\">\n        <option value=\"default\" selected>规则{{(index+1)}}</option>\n        <option v-if=\"index > 0\" value=\"moveup\">向上移动</option>\n        <option v-if=\"index < rules.length-1\" value=\"movedown\">向下移动</option>\n        <option value=\"delete\">删除</option>\n      </select>:应用于<select v-model=\"rule.env\">\n        <option value=\"all\">全部</option>\n        <option v-for=\"env in ENVS\" :value=\"env\">{{env}}</option>\n      </select>\n      <div v-for=\"(cond, index) in rule.conds\">\n        {{index == 0 ? \"要求\" : \"或者\"}}\n        <span v-if=\"RULES[cond.type].paramA && RULES[cond.type].paramB\">\n          <select v-model=\"cond.paramA\">\n            <option value=\"origin\">原文</option>\n            <option value=\"dest\">译文</option>\n          </select>\n          与\n          <select v-model=\"cond.paramB\">\n            <option value=\"origin\">原文</option>\n            <option value=\"dest\">译文</option>\n          </select>\n          中\n        </span>\n        <span v-else-if=\"RULES[cond.type].paramA\">\n          <select v-model=\"cond.paramA\">\n            <option value=\"origin\">原文</option>\n            <option value=\"dest\">译文</option>\n          </select>\n          中\n        </span>\n        <select v-model=\"cond.type\">\n          <option :value=\"key\" v-for=\"(RULE, key) in RULES\">{{RULE.title}}</option>\n        </select>\n        <select v-model=\"cond.datatype\">\n          <option :value=\"key\" v-for=\"(c, key) in files\">{{c.name}}</option>\n          <option value=\"empty\">空</option>\n          <option value=\"br\">换行</option>\n          <option value=\"custom\">以下内容</option>\n        </select>\n        \n        <div class=\"rule-data\" v-if=\"cond.datatype == 'custom'\">\n          <Xeditor v-model=\"cond.data\"></Xeditor>\n        </div>\n      </div>\n      <div class=\"addCond\" v-on:click=\"addCond(rule)\">+或者</div>\n      <label><input v-model=\"rule.removeMatched\" class=\"nck\" type=\"checkbox\">之后的检测忽略匹配到的内容</label>\n\n      <div>\n        否则<select v-model=\"rule.act\">\n          <option value=\"displayError\">提示：</option>\n          <option value=\"exit\">结束检测</option>\n        </select>\n        <div class=\"rule-data\">\n          <Xeditor v-model=\"rule.errMessage\"></Xeditor>\n        </div>\n      </div>\n    </div>\n    <div v-on:click=\"addRule\" class=\"addBtn\">新增规则</div>\n  </div>\n</template>\n\n<script>\nimport Xeditor from './Xeditor'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'RuleEditor',\n  data () {\n    return {\n      \n    }\n  },\n  components: {\n    Xeditor\n  },\n  computed: mapState([\n    'rules',\n    'files'\n  ]),\n  methods: {\n    editRule(e, i) {\n      var act = e.target.value;\n      if (act == \"delete\" && confirm(\"确认删除此规则？\")) {\n        this.rules.splice(i, 1);\n      }\n      if (act == 'movedown' && i < this.rules.length - 1) {\n        var tmp = this.rules[i];\n        this.rules[i] = this.rules[i + 1]\n        this.rules[i + 1] = tmp;\n        this.$forceUpdate();\n      }\n      if (act == 'moveup' && i > 0) {\n        var tmp = this.rules[i];\n        this.rules[i] = this.rules[i - 1]\n        this.rules[i - 1] = tmp;\n        this.$forceUpdate();\n      }\n      e.target.value = \"default\";\n    },\n    addCond(t) {\n      t.conds.push({\n        \"type\":\"contain\",\n        \"data\":\"\",\n        \"datatype\": \"custom\",\n        \"paramA\":\"dest\",\n      });\n    },\n    addRule() {\n      this.rules.push({\n        \"errMessage\":\"新的要求\",\n        \"act\": \"displayError\",\n        \"conds\":[{\n          \"type\":\"contain\",\n          \"data\":\"\",\n          \"datatype\": \"custom\",\n          \"paramA\":\"dest\",\n        }]\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.rule-data {\n  margin: 10px;\n}\n#rules select {\n  color: inherit;\n  font-size: inherit;\n  -webkit-appearance: none;\n  border: none;\n  border-bottom: 1px dashed;\n  border-radius: 0;\n  background: none;\n  height: 30px;\n  cursor: pointer;\n}\n#rules select:hover {\n  background: rgba(0,0,0,.2);\n}\n#rules select:focus {\n  outline: none;\n}\n.addBtn {\n  height: 30px;\n  border-radius: 9px;\n  background: #34a1ff;\n  font-size: 20px;\n  line-height: 30px;\n  text-align: center;\n  box-shadow: 0px 0px 4px rgba(0,0,0,.4);\n  margin: 10px;\n  cursor: pointer;\n}\n.addBtn:hover {\n  background: #44b1ff;\n}\n\n.nck {\n  display: inline-block;\n  -webkit-appearance: none;\n  width: 1.4em;\n  height: 1.4em;\n  background: #fff;\n  border: none;\n  border-radius: 50%;\n  vertical-align: middle;\n}\nlabel:hover .nck {\n  box-shadow: inset 0 0 11px #0b09a0;\n}\n.nck:checked {\n  border: 3px solid #fff;\n  background: #4a4aff;\n}\n\n.addCond {\n  border: 1px dashed #fff;\n  display: block;\n  margin: 10px 0;\n  width: 70px;\n  text-align: center;\n  cursor: pointer;\n  border-radius: 10px;\n}\n.addCond:hover {\n  background: rgba(0,0,0,.2);\n}\n.editArea {\n  color: #fff;\n  width: 500px;\n  background: #4A90E2;\n  border-right: 1px solid #aeaee6;\n  border-left: 1px solid #aeaee6;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.6);\n  z-index: 10;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/RuleEditor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editArea\"},[_vm._l((_vm.rules),function(rule,index){return _c('div',{staticClass:\"rulePanel\"},[_c('select',{on:{\"change\":function($event){_vm.editRule($event, index)}}},[_c('option',{attrs:{\"value\":\"default\",\"selected\":\"\"}},[_vm._v(\"规则\"+_vm._s((index+1)))]),_vm._v(\" \"),(index > 0)?_c('option',{attrs:{\"value\":\"moveup\"}},[_vm._v(\"向上移动\")]):_vm._e(),_vm._v(\" \"),(index < _vm.rules.length-1)?_c('option',{attrs:{\"value\":\"movedown\"}},[_vm._v(\"向下移动\")]):_vm._e(),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"delete\"}},[_vm._v(\"删除\")])]),_vm._v(\":应用于\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(rule.env),expression:\"rule.env\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(rule, \"env\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.ENVS),function(env){return _c('option',{domProps:{\"value\":env}},[_vm._v(_vm._s(env))])})],2),_vm._v(\" \"),_vm._l((rule.conds),function(cond,index){return _c('div',[_vm._v(\"\\n      \"+_vm._s(index == 0 ? \"要求\" : \"或者\")+\"\\n      \"),(_vm.RULES[cond.type].paramA && _vm.RULES[cond.type].paramB)?_c('span',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(cond.paramA),expression:\"cond.paramA\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(cond, \"paramA\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"origin\"}},[_vm._v(\"原文\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"dest\"}},[_vm._v(\"译文\")])]),_vm._v(\"\\n        与\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(cond.paramB),expression:\"cond.paramB\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(cond, \"paramB\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"origin\"}},[_vm._v(\"原文\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"dest\"}},[_vm._v(\"译文\")])]),_vm._v(\"\\n        中\\n      \")]):(_vm.RULES[cond.type].paramA)?_c('span',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(cond.paramA),expression:\"cond.paramA\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(cond, \"paramA\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"origin\"}},[_vm._v(\"原文\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"dest\"}},[_vm._v(\"译文\")])]),_vm._v(\"\\n        中\\n      \")]):_vm._e(),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(cond.type),expression:\"cond.type\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(cond, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.RULES),function(RULE,key){return _c('option',{domProps:{\"value\":key}},[_vm._v(_vm._s(RULE.title))])})),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(cond.datatype),expression:\"cond.datatype\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(cond, \"datatype\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_vm._l((_vm.files),function(c,key){return _c('option',{domProps:{\"value\":key}},[_vm._v(_vm._s(c.name))])}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"empty\"}},[_vm._v(\"空\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"br\"}},[_vm._v(\"换行\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"custom\"}},[_vm._v(\"以下内容\")])],2),_vm._v(\" \"),(cond.datatype == 'custom')?_c('div',{staticClass:\"rule-data\"},[_c('Xeditor',{model:{value:(cond.data),callback:function ($$v) {_vm.$set(cond, \"data\", $$v)},expression:\"cond.data\"}})],1):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"addCond\",on:{\"click\":function($event){_vm.addCond(rule)}}},[_vm._v(\"+或者\")]),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(rule.removeMatched),expression:\"rule.removeMatched\"}],staticClass:\"nck\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(rule.removeMatched)?_vm._i(rule.removeMatched,null)>-1:(rule.removeMatched)},on:{\"change\":function($event){var $$a=rule.removeMatched,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(rule, \"removeMatched\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(rule, \"removeMatched\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(rule, \"removeMatched\", $$c)}}}}),_vm._v(\"之后的检测忽略匹配到的内容\")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n      否则\"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(rule.act),expression:\"rule.act\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(rule, \"act\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"displayError\"}},[_vm._v(\"提示：\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"exit\"}},[_vm._v(\"结束检测\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rule-data\"},[_c('Xeditor',{model:{value:(rule.errMessage),callback:function ($$v) {_vm.$set(rule, \"errMessage\", $$v)},expression:\"rule.errMessage\"}})],1)])],2)}),_vm._v(\" \"),_c('div',{staticClass:\"addBtn\",on:{\"click\":_vm.addRule}},[_vm._v(\"新增规则\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7400c9c0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RuleEditor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7400c9c0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RuleEditor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RuleEditor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RuleEditor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7400c9c0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RuleEditor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RuleEditor.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"tests\">\n    <div class=\"textPanel\">\n      <div><h5>原文:</h5><xeditor v-model=\"srcCode\"></xeditor></div>\n      <div><h5>译文:</h5><xeditor v-model=\"destCode\"></xeditor></div>\n    </div>\n    \n    <div :class=\"con.pass? 'respanel pass':'respanel error'\" v-for=\"(con, index) in cmpResult\">\n      规则{{index+1}}:{{con.errMessage}}\n      <div class=\"passPanel\" v-for=\"errData in con.matches\">\n        <span class=\"passIcon\">OK</span> {{errData.message}}\n        <div class=\"diff\" v-if=\"errData.srcDiff\">\n          <div class=\"line\">原文：<span v-html=\"errData.srcDiff\"></span></div>\n        </div>\n        <div class=\"diff\" v-if=\"errData.destDiff\">\n          <div class=\"line\">译文：<span v-html=\"errData.destDiff\"></span></div>\n        </div>\n      </div>\n      <div class=\"errpanel\" v-for=\"errData in con.errors\">\n        <span class=\"errIcon\">X</span> {{errData.message}}\n        <div class=\"diff\" v-if=\"errData.srcDiff\">\n          <div class=\"line\">原文：<span v-html=\"errData.srcDiff\"></span></div>\n        </div>\n        <div class=\"diff\" v-if=\"errData.destDiff\">\n          <div class=\"line\">译文：<span v-html=\"errData.destDiff\"></span></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Xeditor from './Xeditor'\nimport strm from '../strm'\nexport default {\n  name: 'SingleTest',\n  data () {\n    return {\n      srcCode: \"步骤1.2.2、根据步骤1.1.2中得到的有效路径和步骤1.2.1中得到的信道估计，由信道冲激响应器生成信道冲激响应H＝(h<sub>1</sub>，h<sub>2</sub>，Λ，h<sub>T</sub>)，其长度T表示系统支持的最大时延，该信道冲激响应有效路径位置上的值为该路径上的信道估计值，非有效路径位置上的值为零，即：\",\n      destCode: \"ステップ1.2.2とステップ1.1.2で得られた有効パスとステップ1.2.1で得られたチャネル推定値はチャネルインパルス応答からチャネルインパルス応答生成H=(h1である，h2である，ΛはhT)，その長さTシステムによってサポートされる最大遅延を示す，チャネルインパルス有効パス位置応答上の値は、その経路上のチャネル推定値である，非有効パス位置上の値はゼロであり即：\",\n      cmpResult: []\n    }\n  },\n  components: {\n    Xeditor\n  },\n  mounted: function() {\n    strm.onRuleChange(() => this.cmp());\n    this.cmp();\n  },\n  watch: {\n    destCode: function () {\n      this.cmp();\n    },\n    srcCode: function () {\n      this.cmp();\n    },\n  },\n  methods: {\n    cmp: function () {\n      this.cmpResult = strm.validData(this.srcCode, this.destCode);\n    }\n  }\n}\n</script>\n<style>\n\n#tests {\n  flex:1;\n}\n.rulePanel {\n  margin: 10px;\n  padding: 10px;\n  border-bottom: 1px solid;\n}\n.textPanel {\n  margin: 10px\n}\n.passIcon {\n  height: 15px;\n  border-radius: 15px;\n  color: #fff;\n  background: #070;\n  vertical-align: 2px;\n  font-size: 12px;\n  font-weight: bold;\n  display: inline-block;\n  line-height: 15px;\n  text-align: center;\n}\n.errIcon {\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  color: #fff;\n  background: #f00;\n  vertical-align: 2px;\n  font-size: 12px;\n  font-weight: bold;\n  display: inline-block;\n  line-height: 15px;\n  text-align: center;\n}\n.errpanel b {\n  color: #ff0000;\n  font-weight: bold;\n  display: inline-block;\n  padding: 0 2px;\n  text-shadow: 1px 1px rgba(146, 146, 146, 0.34);\n}\n.passPanel b {\n  color: #39ce39;\n  font-weight: bold;\n  display: inline-block;\n  padding: 0 2px;\n  text-shadow: 1px 1px rgba(146, 146, 146, 0.34);\n}\n.respanel {\n  background: #eee;\n  margin: 10px;\n  padding: 10px;\n  position: relative;\n  box-shadow: 0 0 2px;\n}\n.respanel.error {\n  background: #fee;\n}\n.respanel.error:after {\n  content: \"异常\";\n  position: absolute;\n  right: 18px;\n  color: #fff;\n  background: #a22;\n  top: 0;\n  border-bottom-right-radius: 20px;\n  border-bottom-left-radius: 20px;\n  padding: 4px 20px;\n  opacity: .7;\n}\n.respanel.pass:after {\n  content: \"通过\";\n  position: absolute;\n  right: 18px;\n  color: #fff;\n  background: #2a2;\n  top: 0;\n  border-bottom-right-radius: 20px;\n  border-bottom-left-radius: 20px;\n  padding: 4px 20px;\n  opacity: .7;\n}\n.diff {\n  margin: 10px;\n  padding: 10px;\n  border: 1px dashed #9e9e14;\n  background: #f0fbe0;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/SingleTest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tests\"}},[_c('div',{staticClass:\"textPanel\"},[_c('div',[_c('h5',[_vm._v(\"原文:\")]),_c('xeditor',{model:{value:(_vm.srcCode),callback:function ($$v) {_vm.srcCode=$$v},expression:\"srcCode\"}})],1),_vm._v(\" \"),_c('div',[_c('h5',[_vm._v(\"译文:\")]),_c('xeditor',{model:{value:(_vm.destCode),callback:function ($$v) {_vm.destCode=$$v},expression:\"destCode\"}})],1)]),_vm._v(\" \"),_vm._l((_vm.cmpResult),function(con,index){return _c('div',{class:con.pass? 'respanel pass':'respanel error'},[_vm._v(\"\\n    规则\"+_vm._s(index+1)+\":\"+_vm._s(con.errMessage)+\"\\n    \"),_vm._l((con.matches),function(errData){return _c('div',{staticClass:\"passPanel\"},[_c('span',{staticClass:\"passIcon\"},[_vm._v(\"OK\")]),_vm._v(\" \"+_vm._s(errData.message)+\"\\n      \"),(errData.srcDiff)?_c('div',{staticClass:\"diff\"},[_c('div',{staticClass:\"line\"},[_vm._v(\"原文：\"),_c('span',{domProps:{\"innerHTML\":_vm._s(errData.srcDiff)}})])]):_vm._e(),_vm._v(\" \"),(errData.destDiff)?_c('div',{staticClass:\"diff\"},[_c('div',{staticClass:\"line\"},[_vm._v(\"译文：\"),_c('span',{domProps:{\"innerHTML\":_vm._s(errData.destDiff)}})])]):_vm._e()])}),_vm._v(\" \"),_vm._l((con.errors),function(errData){return _c('div',{staticClass:\"errpanel\"},[_c('span',{staticClass:\"errIcon\"},[_vm._v(\"X\")]),_vm._v(\" \"+_vm._s(errData.message)+\"\\n      \"),(errData.srcDiff)?_c('div',{staticClass:\"diff\"},[_c('div',{staticClass:\"line\"},[_vm._v(\"原文：\"),_c('span',{domProps:{\"innerHTML\":_vm._s(errData.srcDiff)}})])]):_vm._e(),_vm._v(\" \"),(errData.destDiff)?_c('div',{staticClass:\"diff\"},[_c('div',{staticClass:\"line\"},[_vm._v(\"译文：\"),_c('span',{domProps:{\"innerHTML\":_vm._s(errData.destDiff)}})])]):_vm._e()])})],2)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62bdaf62\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SingleTest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62bdaf62\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SingleTest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SingleTest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SingleTest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62bdaf62\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SingleTest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SingleTest.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"mutiTest\">\n    <div v-on:click=\"cmp\" class=\"addBtn\">执行测试</div>\n    <div class=\"line\">\n      <div class=\"cell cellFull\">原文</div>\n      <div class=\"cell cellFull\">译文</div>\n      <div class=\"cell\">预期</div>\n      <div class=\"cell\">结果</div>\n      <div class=\"cell\">功能</div>\n    </div>\n    <div class=\"line\" v-for=\"testCase in tests\" :class=\"{'err':testCase.res && testCase.assume !== testCase.res,'pass':testCase.res && testCase.assume === testCase.res}\">\n      <div class=\"cell cellFull\">{{testCase.src}}</div>\n      <div class=\"cell cellFull\">{{testCase.dest}}</div>\n      <div class=\"cell\">{{mapStatus(testCase.assume)}}</div>\n      <div class=\"cell\">{{mapStatus(testCase.res)}}</div>\n      <div class=\"cell\"><div class=\"smallbtn\" v-on:click=\"check(testCase)\">检测</div></div>\n    </div>\n  </div>\n</template>\n<script>\nimport Xeditor from './Xeditor'\nimport strm from '../strm'\nexport default {\n  name: 'MutiTest',\n  data () {\n    return {\n      tests: [\n        {\n          src: \"哈哈哈哈\",\n          dest: \"広気況沖収効決乗巻\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"哈哈哈哈\",\n          dest: \"广气况冰冲收效决乘而并卷\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"︱\",\n          dest: \"｜\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"︱\",\n          dest: \"︱\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈a1,。\",\n          dest: \"哈哈哈ａ１，。\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"哈哈哈a1,。\",\n          dest: \"哈哈哈ａ１，\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"&lt;\",\n          dest: \"＜\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"&lt;\",\n          dest: \"哈哈\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"&\",\n          dest: \"哈哈\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"&\",\n          dest: \"＆\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"&lt;\",\n          dest: \"&lt;\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"&lt;\",\n          dest: \"<\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"é\",\n          dest: \"&eacute;\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"é\",\n          dest: \"é\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"é\",\n          dest: \"＆ｅａｃｕｔｅ；\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"ü\",\n          dest: \"&uuml;\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"¦\",\n          dest: \"&brkbar;\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"w1& +,\",\n          dest: \"ｗ１＆　＋，\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"w1& +,\",\n          dest: \"w1& +,\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"<sub></sub><sup></sup>\",\n          dest: \"<sub></sub><sup></sup>\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"<sub></sub><sup></sup>\",\n          dest: \"＜ｓｕｂ＞＜／ｓｕｂ＞＜ｓｕｐ＞＜／ｓｕｐ＞\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"CO<sub>2</sub>\",\n          dest: \"ＣＯ<sub>２</sub>\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"CO<sub>2</sub>\",\n          dest: \"CO<sub>2</sub>\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈哈\",\n          dest: '',\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈哈\",\n          dest: `哈哈\n哈哈`,\n          assume: -1,\n          res: undefined\n        },{\n          src: \"——\",\n          dest: \"－\",\n          assume: 1,\n          res: undefined\n        },{\n          src: \"———\",\n          dest: \"－－\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈哈\",\n          dest: \"がに\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈<img ……/>哈哈哈\",\n          dest: \"哈哈哈【ＩＭＧ】哈哈哈\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈<img ……/>哈哈哈\",\n          dest: \"哈哈哈ＡＩＭＬＩＵ哈哈哈\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈<img ……/>哈哈哈\",\n          dest: \"哈哈哈哈哈哈\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈<maths …>…</maths>哈哈哈\",\n          dest: \"哈哈哈【MATH】哈哈哈\",\n          assume: -1,\n          res: undefined\n        },{\n          src: \"哈哈哈<tables …>…</tables>哈哈哈\",\n          dest: \"哈哈哈ＡＩＭＬＩＵ哈哈哈\",\n          assume: 1,\n          res: undefined\n        }\n      ]\n    }\n  },\n  components: {\n    Xeditor\n  },\n  watch: {\n  },\n  methods: {\n    cmp() {\n      var res = [];\n      for (var i = 0; i < this.tests.length; i++) {\n        var testCase = this.tests[i];\n        testCase.res = strm.validData(testCase.src, testCase.dest, 1);\n      }\n    },\n    check(e) {\n      this.$emit('check', e)\n    },\n    mapStatus(a) {\n      if (a == 1) {\n        return \"✔\";\n      }\n      if (a == -1) {\n        return \"✘\";\n      }\n    }\n  }\n}\n</script>\n<style>\n\n#mutiTest {\n  font-size:12px;\n}\n.line {\n  display: flex;\n}\n\n.cell {\n  background: #fff;\n  margin: 2px;\n  width: 30px;\n  text-align: center;\n}\n.line.err .cell{\n  background: #faa;\n}\n.line.pass .cell{\n  background: #afa;\n}\n.cellFull {\n  flex: 1;\n  text-align: left;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/MutiTest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mutiTest\"}},[_c('div',{staticClass:\"addBtn\",on:{\"click\":_vm.cmp}},[_vm._v(\"执行测试\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._l((_vm.tests),function(testCase){return _c('div',{staticClass:\"line\",class:{'err':testCase.res && testCase.assume !== testCase.res,'pass':testCase.res && testCase.assume === testCase.res}},[_c('div',{staticClass:\"cell cellFull\"},[_vm._v(_vm._s(testCase.src))]),_vm._v(\" \"),_c('div',{staticClass:\"cell cellFull\"},[_vm._v(_vm._s(testCase.dest))]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_vm._v(_vm._s(_vm.mapStatus(testCase.assume)))]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_vm._v(_vm._s(_vm.mapStatus(testCase.res)))]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_c('div',{staticClass:\"smallbtn\",on:{\"click\":function($event){_vm.check(testCase)}}},[_vm._v(\"检测\")])])])})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"line\"},[_c('div',{staticClass:\"cell cellFull\"},[_vm._v(\"原文\")]),_vm._v(\" \"),_c('div',{staticClass:\"cell cellFull\"},[_vm._v(\"译文\")]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_vm._v(\"预期\")]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_vm._v(\"结果\")]),_vm._v(\" \"),_c('div',{staticClass:\"cell\"},[_vm._v(\"功能\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e647383\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MutiTest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5e647383\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MutiTest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MutiTest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MutiTest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e647383\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MutiTest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MutiTest.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"rules\">\n    <div class=\"sidebar\">\n      <div class=\"item\" :class=\"{active:editing=='rule' && ruleId==0}\"  v-on:click=\"editItem(0)\">P</div>\n      <div class=\"item file\" :class=\"{active:editing=='file' && fileId==key}\" v-on:click=\"editFile(key)\" v-for=\"(file, key) in files\">{{file.name}}</div>\n      <div class=\"item file new\" v-on:click=\"addFile()\">+</div>\n      <div class=\"item save\" v-on:click=\"save()\">保存</div>\n    </div>\n\n    <div class=\"fileArea\"  v-for=\"(file, key) in files\" v-if=\"editing=='file' && fileId==key\">\n      <h4>名称</h4>\n      <Xeditor v-model=\"file.name\"></Xeditor>\n      <h4>内容</h4>\n      <Xeditor v-model=\"file.data\"></Xeditor>\n    </div>\n    <RuleEditor v-if=\"editing=='rule'\"/>\n    <div class=\"testArea\">\n      <select v-on:change=\"setEnv($event)\">\n        <option v-for=\"env in ENVS\" :value=\"env\">{{env}}</option>\n      </select>\n      <SingleTest ref=\"single\" v-show=\"testing=='single'\"></SingleTest>\n      <MutiTest v-show=\"testing=='muti'\" v-on:check=\"check\"></MutiTest>\n    </div>\n    <div class=\"sidebar\">\n      <div class=\"item\" :class=\"{active:testing=='single'}\"  v-on:click=\"test('single')\">自定义测试</div>\n      <div class=\"item\" :class=\"{active:testing=='muti'}\"  v-on:click=\"test('muti')\">完全测试</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport RuleEditor from './components/RuleEditor'\nimport XHR from './xhr'\nimport strm from './strm'\nimport Xeditor from './components/Xeditor'\nimport SingleTest from './components/SingleTest'\nimport MutiTest from './components/MutiTest'\nimport { mapState } from 'vuex'\n\n\nexport default {\n  name: 'App',\n  data: function data (argument) {\n    return {\n      fileId: 0,\n      ruleId: 0,\n      editing: \"rule\",\n      testing: 'single'\n    }\n  },\n  components: {\n    RuleEditor,\n    SingleTest,\n    MutiTest,\n    Xeditor\n  },\n  computed: mapState([\n    'rules',\n    'files'\n  ]),\n  methods: {\n    save() {\n      var data = JSON.stringify({\n        rules: this.rules,\n        files: this.files,\n      });\n      XHR.POSTStr('//'+location.hostname+':3000/config', data, function (e) {\n        alert('保存成功');\n      })\n    },\n    test(id) {\n      this.testing = id;\n    },\n    addFile() {\n      this.files.push({\n        name: \"新增数据\",\n        data: \"\"\n      })\n      this.editing = \"file\";\n      this.fileId = this.files.length - 1;\n    },\n    editFile(key) {\n      this.editing = \"file\";\n      this.fileId = key\n    },\n    editItem(key) {\n      this.editing = \"rule\";\n      this.ruleId = key;\n    },\n    setEnv(e) {\n      strm.setEnv(e.target.value);\n    },\n    check(e) {\n      this.testing = 'single';\n      this.$refs.single.srcCode = e.src\n      this.$refs.single.destCode = e.dest\n    }\n  }\n}\n</script>\n\n<style>\nbody {\n  font-family: 'Source Sans Pro', 'Helvetica Neue', Arial, sans-serif;\n  font-size: 18px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #34495e;\n  margin: 0;\n  background:#728EB2;\n}\nh5 {\n  margin-bottom: 3px;\n  margin-top: 10px;\n  font-size: 19px;\n}\n#rules {\n  display: flex;\n  position: relative;\n}\n.testArea {\n  flex: 1;\n}\n.sidebar .item {\n  position: relative;\n  right: -1px;\n  font-size: 13px;\n  width: 23px;\n  height: 81px;\n  margin: 4px;\n  margin-right: 0;\n  border-top-left-radius: 11px;\n  background: #d0d0d0;\n  border-bottom-left-radius: 12px;\n  writing-mode: vertical-lr;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: -1px 1px 3px rgba(0,0,0,.4);\n  cursor: pointer;\n}\n.sidebar .item.file {\n  background: #e0e0e0;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.sidebar .item.file.new {\n  height: 30px;\n  font-weight: bold;\n  font-size: 20px;\n  writing-mode: initial;\n  align-items: flex-start;\n}\n.sidebar .item.save {\n  background: #d22222;\n  color: #fff;\n  left: 0;\n  margin-top: 30px;\n  font-size: 16px;\n  position: fixed;\n  bottom: 10px;\n}\n.sidebar .item.save:hover {\n  background: #e33333;\n}\n.sidebar .item:hover{\n  background: #8fadd2\n}\n.sidebar .item.active {\n  z-index: 20;\n  color: #fff;\n  background: #4b90e2;\n  border-left: 1px solid #aeaee6;\n  border-top: 1px solid #aeaee6;\n  border-bottom: 1px solid #aeaee6;\n}\n.fileArea {\n  padding: 10px;\n  color: #fff;\n  background: #4A90E2;\n  border-right: 1px solid #aeaee6;\n  border-left: 1px solid #aeaee6;\n  box-shadow: 0 0 4px rgba(0, 0, 0, 0.6);\n  width: 500px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rules\"}},[_c('div',{staticClass:\"sidebar\"},[_c('div',{staticClass:\"item\",class:{active:_vm.editing=='rule' && _vm.ruleId==0},on:{\"click\":function($event){_vm.editItem(0)}}},[_vm._v(\"P\")]),_vm._v(\" \"),_vm._l((_vm.files),function(file,key){return _c('div',{staticClass:\"item file\",class:{active:_vm.editing=='file' && _vm.fileId==key},on:{\"click\":function($event){_vm.editFile(key)}}},[_vm._v(_vm._s(file.name))])}),_vm._v(\" \"),_c('div',{staticClass:\"item file new\",on:{\"click\":function($event){_vm.addFile()}}},[_vm._v(\"+\")]),_vm._v(\" \"),_c('div',{staticClass:\"item save\",on:{\"click\":function($event){_vm.save()}}},[_vm._v(\"保存\")])],2),_vm._v(\" \"),_vm._l((_vm.files),function(file,key){return (_vm.editing=='file' && _vm.fileId==key)?_c('div',{staticClass:\"fileArea\"},[_c('h4',[_vm._v(\"名称\")]),_vm._v(\" \"),_c('Xeditor',{model:{value:(file.name),callback:function ($$v) {_vm.$set(file, \"name\", $$v)},expression:\"file.name\"}}),_vm._v(\" \"),_c('h4',[_vm._v(\"内容\")]),_vm._v(\" \"),_c('Xeditor',{model:{value:(file.data),callback:function ($$v) {_vm.$set(file, \"data\", $$v)},expression:\"file.data\"}})],1):_vm._e()}),_vm._v(\" \"),(_vm.editing=='rule')?_c('RuleEditor'):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"testArea\"},[_c('select',{on:{\"change\":function($event){_vm.setEnv($event)}}},_vm._l((_vm.ENVS),function(env){return _c('option',{domProps:{\"value\":env}},[_vm._v(_vm._s(env))])})),_vm._v(\" \"),_c('SingleTest',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.testing=='single'),expression:\"testing=='single'\"}],ref:\"single\"}),_vm._v(\" \"),_c('MutiTest',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.testing=='muti'),expression:\"testing=='muti'\"}],on:{\"check\":_vm.check}})],1),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\"},[_c('div',{staticClass:\"item\",class:{active:_vm.testing=='single'},on:{\"click\":function($event){_vm.test('single')}}},[_vm._v(\"自定义测试\")]),_vm._v(\" \"),_c('div',{staticClass:\"item\",class:{active:_vm.testing=='muti'},on:{\"click\":function($event){_vm.test('muti')}}},[_vm._v(\"完全测试\")])])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d0cda55c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d0cda55c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0cda55c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport strm from './strm'\nimport Vuex from 'vuex'\nimport XHR from './xhr'\n\nVue.use(Vuex)\n\nVue.config.productionTip = false\n\nvar store = new Vuex.Store({\n  state: {\n    rules: [],\n    files: []\n  },\n  getters: {\n    getRules: state => {\n      return state.rules;\n    }\n  },\n  mutations: {\n    setRuleAndFile (state, {rules, files}) {\n      state.rules = rules;\n      state.files = files;\n      strm.BuildRules(state.rules, state.files);\n    },\n  }\n});\n\n\nstore.watch((state) => state.rules, (oldValue, newValue) => {\n  strm.BuildRules(store.state.rules, store.state.files);\n}, {\n  deep: true\n})\n\nstore.watch((state) => state.files, (oldValue, newValue) => {\n  strm.BuildRules(store.state.rules, store.state.files);\n}, {\n  deep: true\n})\n\n\nXHR.GET('//'+location.hostname+':3000/config', (config) => {\n  for (var i = 0; i < config.rules.length; i++) {\n    config.rules[i].env = config.rules[i].env || \"all\";\n  }\n  store.commit('setRuleAndFile', config);\n  new Vue({\n    el: '#app',\n    store,\n    components: { App },\n    template: '<App/>'\n  })\n})\n\n\nVue.prototype.ENVS = ['P-上', 'P-下', 'IP-上', 'IP-下'];\nVue.prototype.RULES = strm.RULES;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","\nfunction xhr (method, url, data, callback) {\n  var xhr = new XMLHttpRequest()\n  xhr.open(method, url);\n  if (method == \"POST\") {\n    xhr.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");\n  }\n  var re = [];\n  for (var key in data) {\n    re.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n  }\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState == 4) {\n      if (xhr.status == 200) {\n        var data = JSON.parse(xhr.responseText);\n        callback(data);\n      }\n      xhr.onreadystatechange = null;\n    }\n  }\n  xhr.send(re.join('&'));\n}\nfunction POSTStr (url, data, callback) {\n  var xhr = new XMLHttpRequest()\n  xhr.open(\"POST\", url);\n  xhr.onreadystatechange = () => {\n    if (xhr.readyState == 4) {\n      if (xhr.status == 200) {\n        var data = JSON.parse(xhr.responseText);\n        callback(data);\n      }\n      xhr.onreadystatechange = null;\n    }\n  }\n  xhr.send(data);\n}\n\nmodule.exports = {\n  GET: function (url, callback) {\n    xhr (\"GET\", url, {}, callback);\n  },\n  POST: function (url, data, callback) {\n    xhr (\"POST\", url, data, callback);\n  },\n  POSTStr\n}\n\n\n// WEBPACK FOOTER //\n// ./src/xhr.js","\n// 创建字典树\nfunction BuildTree(config) {\n  var res = {};\n  for (var i = 0; i < config.length; i++) {\n    var str = config[i];\n\n    var cres = res;\n    for (var j = 0; j < str.length; j++) {\n      if (!cres[str[j]]) {\n        cres[str[j]] = {\n        };\n      }\n      cres = cres[str[j]]\n    }\n    cres.match = str;\n  }\n  return res;\n}\n\n// 创建字典树，每个节点属于一个分组\nfunction BuildTreeByGroup(groups) {\n  var res = {};\n  for (var i = 0; i < groups.length; i++) {\n    var group = groups[i];\n    for (var k = 0; k < group.length; k++) {\n      var str = group[k];\n      var cres = res;\n      for (var j = 0; j < str.length; j++) {\n        if (!cres[str[j]]) {\n          cres[str[j]] = {\n          };\n        }\n        cres = cres[str[j]]\n      }\n      cres.match = i;\n    }\n  }\n  return res;\n}\n\n//找到 str在i位置匹配最短的一个子串\nfunction MatchTree(tree, str, i) {\n  var init = i;\n  var currentNode = tree[str.charAt(init)];\n  while (currentNode && init < str.length) {\n    if (currentNode.match) {\n      return {\n        match: currentNode.match,\n        begin: i,\n        end: init+1\n      };\n    }\n    init++\n    currentNode = currentNode[str.charAt(init)]\n  }\n  return false;\n}\n\n//找到 str在i位置匹配所有的子串\nfunction MatchTreeAllByGroup(tree, str) {\n  var matches = {};\n  for (var i = 0; i < str.length; i++) {\n    var init = i;\n    var currentNode = tree[str.charAt(init)];\n    while (currentNode && init < str.length) {\n      if (currentNode.match !== undefined) {\n        if (matches[currentNode.match] === undefined) {\n          matches[currentNode.match] = [];\n        }\n        matches[currentNode.match].push({\n          match: currentNode.match,\n          begin: i,\n          end: init + 1\n        });\n        i = init;\n        break;\n      }\n      init++\n      currentNode = currentNode[str.charAt(init)]\n    }\n  }\n  return matches;\n}\n\nfunction htmlencode(s) {\n  var div = document.createElement('div');  \n  div.appendChild(document.createTextNode(s));  \n  return div.innerHTML;  \n}\n\nfunction highlightMatches(str, matches) {\n  var dest = '';\n  var low = 0;\n  for (var i = 0; i < matches.length; i++) {\n    dest += htmlencode(str.substring(low, matches[i].begin));\n    dest += '<b>' + htmlencode(str.substring(matches[i].begin, matches[i].end)) + '</b>'\n    low = matches[i].end;\n  }\n  dest += htmlencode(str.substring(low));\n  return dest;\n}\n\nfunction highlightMatchesRev(str, matches) {\n  var dest = '';\n  var low = 0;\n  var l = str.length\n  for (var i = matches.length - 1; i >= 0; i--) {\n    dest += htmlencode(str.substring(low, l - matches[i].end));\n    dest += '<b>' + htmlencode(str.substring(l - matches[i].end, l - matches[i].begin)) + '</b>'\n    low = l - matches[i].begin;\n  }\n  dest += htmlencode(str.substring(low));\n  return dest;\n}\n\nfunction markMatches(str, matches, maxCount = 100000) {\n  var dest = '';\n  var low = 0;\n  for (var i = 0; i < matches.length && i < maxCount; i++) {\n    dest += str.substring(low, matches[i].begin);\n    for (var j = matches[i].begin; j < matches[i].end; j++) {\n      dest += '*';\n    }\n    low = matches[i].end;\n  }\n  dest += str.substring(low);\n  return dest;\n}\n\nvar lang = {\n  \"origin\": \"原文\",\n  \"dest\": \"译文\"\n}\n\nvar RULES = {\n  // a 和 b需要一一对应\n  match: {\n    title: \"一一对应\",\n    paramA: true,\n    paramB: true,\n    initConfig: function (config) {\n      var cfg = parsePairFile(config);\n      return {\n        srcRaw: cfg.src,\n        destRaw: cfg.dest,\n        src: BuildTreeByGroup(cfg.src),\n        dest: BuildTreeByGroup(cfg.dest),\n        regRules: cfg.regRules,\n      };\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var a = data.paramA;\n      var b = data.paramB;\n      var matchesA = MatchTreeAllByGroup(config.src, a);\n      var matchesB = MatchTreeAllByGroup(config.dest, b);\n      var resA = '';\n      var resB = '';\n      var message = '';\n      var errors = [];\n\n      for (var key in matchesA) {\n        var matchA = matchesA[key] || [];\n        var matchB = matchesB[key] || [];\n        if (matchA.length !== matchB.length) {\n          errors.push({\n            message: `${lang[cond.paramA]}中的（${config.srcRaw[key]}）的数量与${lang[cond.paramB]}中的（${config.destRaw[key]}）数量不匹配， = ${matchA.length}:${matchB.length}`,\n            srcDiff: highlightMatches(a, matchA),\n            destDiff: highlightMatches(b, matchB),\n          })\n        }\n      }\n\n      for (var key in matchesB) {\n        var matchA = matchesA[key] || [];\n        var matchB = matchesB[key] || [];\n        if (matchA.length == 0 && matchB.length !== 0) {\n          errors.push({\n            message: `${lang[cond.paramA]}中的（${config.srcRaw[key]}）的数量与${lang[cond.paramB]}中的（${config.destRaw[key]}）数量不匹配， = ${matchA.length}:${matchB.length}`,\n            srcDiff: highlightMatches(a, matchA),\n            destDiff: highlightMatches(b, matchB),\n          })\n        }\n      }\n\n      for (var key in config.regRules) {\n        var regRule = config.regRules[key];\n\n        var matchA = [];\n        var matchB = [];\n        var t;\n\n        while(t = regRule.src.exec(a)) {\n          matchA.push({\n            begin: t.index,\n            end: t.index + t[0].length,\n            match: t[0]\n          })\n        }\n        while(t = regRule.dest.exec(b)) {\n          matchB.push({\n            begin: t.index,\n            end: t.index + t[0].length,\n            match: t[0]\n          })\n        }\n        matchesA[key] = matchA;\n        matchesB[key] = matchA;\n\n        if (matchA.length !== matchB.length) {\n          errors.push({\n            message: `${lang[cond.paramA]}中的（${regRule.src.source}）的数量与${lang[cond.paramB]}中的（${regRule.dest.source}）数量不匹配， = ${matchA.length}:${matchB.length}`,\n            srcDiff: highlightMatches(a, matchA),\n            destDiff: highlightMatches(b, matchB),\n          })\n        }\n      }\n      \n      if (removeMatched) {\n        var replacedA = a;\n        var replacedB = b;\n        for (var key in matchesA) {\n          replacedA = markMatches(replacedA, matchesA[key]);\n        }\n        for (var key in matchesB) {\n          replacedB = markMatches(replacedB, matchesB[key]);\n        }\n        replacedA = replacedA.replace(/\\*/g, '');\n        replacedB = replacedB.replace(/\\*/g, '');\n      }\n\n      \n      return {\n        pass: errors.length == 0,\n        errors: errors,\n        paramA: replacedA,\n        paramB: replacedB,\n        message: message\n      }\n    }\n  },\n  // 原文中有的A，译文中需要有对应B；但不要求译文中的B与原文的A对应（A数量<=B数量即可）\n  matchA2B: {\n    title: \"原文对应译文\",\n    paramA: true,\n    paramB: true,\n    initConfig: function (config) {\n      var cfg = parsePairFile(config);\n      return {\n        srcRaw: cfg.src,\n        destRaw: cfg.dest,\n        src: BuildTreeByGroup(cfg.src),\n        dest: BuildTreeByGroup(cfg.dest)\n      };\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var a = data.paramA;\n      var b = data.paramB;\n      var matchesA = MatchTreeAllByGroup(config.src, a);\n      var matchesB = MatchTreeAllByGroup(config.dest, b);\n      var resA = '';\n      var resB = '';\n      var message = '';\n      var errors = [];\n\n      for (var key in matchesA) {\n        var matchA = matchesA[key] || [];\n        var matchB = matchesB[key] || [];\n        if (matchA.length > matchB.length) {\n          errors.push({\n            message: `${lang[cond.paramA]}中的（${config.srcRaw[key]}）的数量小于${lang[cond.paramB]}中的（${config.destRaw[key]}）数量， = ${matchA.length}:${matchB.length}`,\n            srcDiff: highlightMatches(a, matchA),\n            destDiff: highlightMatches(b, matchB),\n          })\n        }\n      }\n      \n      if (removeMatched) {\n        var replacedA = a;\n        var replacedB = b;\n        for (var key in matchesA) {\n          replacedA = markMatches(replacedA, matchesA[key]);\n          if (matchesB[key]) {\n            replacedB = markMatches(replacedB, matchesB[key], matchesA[key].length);\n          }\n        }\n        replacedA = replacedA.replace(/\\*/g, '');\n        replacedB = replacedB.replace(/\\*/g, '');\n      }\n\n      \n      return {\n        pass: errors.length == 0,\n        errors: errors,\n        paramA: replacedA,\n        paramB: replacedB,\n        message: message\n      }\n    }\n  },\n  // 不包含xx\n  contain: {\n    title: \"不包含\",\n    paramA: true,\n    initConfig: function (config) {\n      config = config.split(/[\\n]/)\n      return BuildTree(config);\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var b = data.paramA;\n      var matches = [];\n      var str = \"\";\n      for (var i = 0; i < b.length; i++) {\n        var res = MatchTree(config, b, i);\n        if (res) {\n          matches.push(res);\n        }\n      }\n\n      if (matches.length) {\n        var errors = [{\n          message: lang[cond.paramA] + `不能包含${matches.map(data=>data.match).join(',')}`,\n          destDiff: highlightMatches(b, matches),\n        }];\n      }\n      \n      if (removeMatched) {\n        var replacedB = b;\n        for (var key in matches) {\n          replacedB = markMatches(replacedB, matches[key]);\n        }\n        replacedB = replacedB.replace(/\\*/g, '');\n      }\n\n      return {\n        pass: matches.length == 0,\n        errors: errors,\n        paramB: replacedB,\n      }\n    }\n  },\n  // 只包含xx集合内的字符\n  onlyContain: {\n    title: \"只包含\",\n    paramA: true,\n    initConfig: function (config) {\n      config = config.split(/[\\n,]/)\n      return BuildTree(config);\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var b = data.paramA;\n      var matches = [];\n      var str = \"\";\n      for (var i = 0; i < b.length; i++) {\n        var res = MatchTree(config, b, i);\n        if (res) {\n        } else {\n          matches.push({\n            begin: i,\n            end: i+1,\n            match: b.charAt(i)\n          });\n        }\n      }\n\n      if (matches.length) {\n        var errors = [{\n          message: `${lang[cond.paramA]}中例外的字符${matches.map(data=>data.match).join(',')}`,\n          destDiff: highlightMatches(b, matches),\n        }];\n      }\n      return {\n        pass: matches.length == 0,\n        errors: errors\n      }\n    }\n  },\n\n  // 以xx结尾\n  endWith: {\n    title: \"结尾匹配\",\n    paramA: true,\n    initConfig: function (config) {\n      return BuildTree(config.split('').reverse().join('').split(/[\\n,]/))\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var str = data.paramA.split('').reverse().join('');\n      var res = MatchTree(config, str, 0);\n      \n      var errors = [];\n      var matches = [];\n      if (res) {\n        matches.push({\n          message: `${lang[cond.paramA]}结尾包含了` + res.match.split('').reverse().join(''),\n          srcDiff: highlightMatchesRev(data.paramA, [res])\n        })\n      } else {\n        errors.push({\n          message: `${lang[cond.paramA]}没有结尾要求内容`\n        })\n      }\n      return {\n        pass: !!res,\n        matches: matches,\n        errors: errors\n      }\n    }\n  },\n  // 以xx开头\n  startWith: {\n    title: \"开头不匹配\",\n    paramA: true,\n    initConfig: function (config) {\n      config = config.split('\\n')\n      return BuildTree(config);\n    },\n    valid: function (data, config) {\n      var b = data.paramA;\n      var matches = [];\n      var str = \"\";\n      var res = MatchTree(config, b, 0);\n      if (res) {\n        matches.push(res);\n      }\n      var errors = [{\n        message: `不能包含${matches.map(data=>data.match).join(',')}`,\n        destDiff: highlightMatches(b, matches),\n      }];\n      return {\n        pass: errors.length == 0,\n        errors: errors\n      }\n    }\n  },\n  matchReg: {\n    title: \"符合正则表达式\",\n    paramA: true,\n    initConfig: function (config) {\n      var reg = new RegExp(config);\n      return {\n        reg: reg\n      }\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var a = data.paramA;\n      var errors = [];\n      if (!a.match(config.reg)) {\n        errors.push(`${lang[cond.paramA]} 的内容`)\n      }\n      return {\n        pass: errors.length == 0,\n        errors: errors\n      }\n    }\n  },\n  notMatchReg: {\n    title: \"不符合正则表达式\",\n    paramA: true,\n    initConfig: function (config) {\n      var reg = new RegExp(config);\n      return {\n        reg: reg\n      }\n    },\n    valid: function (data, config, removeMatched, cond) {\n      var a = data.paramA;\n      var errors = [];\n      if (a.match(config.reg)) {\n        errors.push(`${lang[cond.paramA]} 的内容`)\n      }\n      return {\n        pass: errors.length == 0,\n        errors: errors\n      }\n    }\n  },\n}\nRULES.notEndWith = {\n  title: \"结尾不匹配\",\n  invert: true,\n  paramA: true,\n  initConfig: RULES.endWith.initConfig,\n  valid: RULES.endWith.valid,\n}\n\nfunction Rule(data, file) {\n  this.conds = [];\n  this.errMessage = data.errMessage;\n  this.removeMatched = data.removeMatched;\n  this.act = data.act;\n  this.env = data.env;\n  for (var key in data.conds) {\n    var cond = data.conds[key];\n    if (cond.datatype == \"br\") {\n      var parsed = {\"\\n\":{\n        match: \"\\n\"\n      }}\n    } else if (cond.datatype == \"empty\") {\n      var parsed = ''\n    } else if (cond.datatype == \"custom\") {\n      var parsed = RULES[cond.type].initConfig.call(cond, cond.data);\n    } else {\n      var parsed = RULES[cond.type].initConfig.call(cond, file[cond.datatype].data);\n    }\n    this.conds.push({\n      cond: cond,\n      parsed: parsed\n    })\n  }\n}\n\nRule.prototype.valid = function(line) {\n  var lastTest = null;\n\n  for (var key in this.conds) {\n    var cond = this.conds[key].cond;\n    var parsed = this.conds[key].parsed;\n    var match = RULES[cond.type].valid({\n      paramA: line[cond.paramA],\n      paramB: line[cond.paramB],\n    }, parsed, this.removeMatched, cond);\n\n    if (this.removeMatched) {\n      line[cond.paramA] = match.paramA;\n      line[cond.paramB] = match.paramB;\n    }\n\n    lastTest = match;\n    // 或者的关系\n    if (match.pass) {\n      lastTest.errMessage = this.errMessage;\n      return lastTest;\n    }\n  }\n\n  lastTest.errMessage = this.errMessage;\n  return lastTest\n}\n\n\nfunction parsePairFile(text) {\n  var lines = text.split('\\n');\n  var res = {\n    src: [],\n    dest: [],\n    regRules: []\n  }\n  for (var key in lines) {\n    var mean = lines[key].split('#')[0].trim();\n    if (mean) {\n      if (mean.indexOf('>>>') !== -1) {\n        var pair = mean.split('>>>');\n        if (pair.length < 2) {continue}\n        var src = pair[0].trim();\n        \n        src = src.split('__');\n        for (var i = 0; i < src.length; i++) {\n          var code = src[i].trim();\n          if (code.charAt(0) == '\"' && code.charAt(code.length-1) == '\"') {\n            code = code.substr(1, code.length-2);\n          }\n          src[i] = code;\n        }\n        res.src.push(src);\n\n        var dest = pair[1].trim();\n        dest = dest.split('__')\n        for (var i = 0; i < dest.length; i++) {\n          var code = dest[i].trim();\n          if (code.charAt(0) == '\"' && code.charAt(code.length-1) == '\"') {\n            code = code.substr(1, code.length-2);\n          }\n          dest[i] = code;\n        }\n        res.dest.push(dest);\n      } else if (mean.indexOf('>REG>') !== -1) {\n        var pair = mean.split('>REG>');\n        if (pair.length < 2) {continue}\n        var src = pair[0].trim();\n        var dest = pair[1].trim();\n        res.regRules.push({\n          src: new RegExp(src, 'g'),\n          dest: new RegExp(dest, 'g'),\n        })\n      }\n    }\n  }\n  return res;\n}\n\n\nvar rs = []\n\nfunction BuildRules(rulesConfig, files) {\n  rs = [];\n  for (var key in rulesConfig) {\n    rs.push(new Rule(rulesConfig[key], files))\n  }\n  runCallbacks();\n}\n\nfunction validData(ta, tb, simple) {\n  var mmo = {\n    origin: ta,\n    dest: tb\n  }\n  var diffs = [];\n  for (var i = 0; i < rs.length; i++) {\n    var r = rs[i];\n    if (!(r.env === 'all' || exports.env === r.env)) {\n      continue;\n    }\n    var res = r.valid(mmo);\n    if (res.pass == false && r.act == \"exit\") {\n      res.pass = \"结束检测\";\n      diffs.push(res);\n      break;\n    }\n    if (res.pass == false && simple) {\n      return -1\n    }\n    diffs.push(res);\n  } \n  if (simple) {\n    return 1;\n  } else {\n    return diffs;\n  }\n}\n\nfunction runCallbacks() {\n  for (var i = 0; i < callbacks.length; i++) {\n    if (callbacks[i]) {\n      callbacks[i]();\n    }\n  }\n}\n\nvar callbacks = [];\nfunction onRuleChange(callback) {\n  callbacks.push(callback);\n}\n\nvar exports = {\n  env: 'all',\n  RULES,\n  BuildRules,\n  validData,\n  onRuleChange,\n  setEnv(env) {\n    exports.env = env;\n    runCallbacks();\n  }\n}\nmodule.exports = exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/strm.js"],"sourceRoot":""}