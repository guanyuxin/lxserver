webpackJsonp([1],{"9Uwc":function(e,t){},GSEp:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n=s("mvHQ"),r=s.n(n),i={name:"Xeditor",model:{prop:"data"},props:{data:String},mounted:function(){this.autoHeight()},methods:{autoHeight:function(){var e=this.$refs.r;e.style.height="0px",e.style.height=e.scrollHeight+"px"},input:function(e){this.autoHeight(),this.$emit("input",e.target.value)}}},l={render:function(){var e=this.$createElement;return(this._self._c||e)("textarea",{ref:"r",staticClass:"xeditor",attrs:{spellcheck:"false"},on:{input:this.input}},[this._v(this._s(this.data))])},staticRenderFns:[]};var c=s("VU/8")(i,l,!1,function(e){s("qYi2")},null,null).exports,o=s("NYxO"),u={name:"RuleEditor",data:function(){return{}},components:{Xeditor:c},computed:Object(o.b)(["rules","files"]),methods:{editRule:function(e,t){var s=e.target.value;if("delete"==s&&confirm("确认删除此规则？")&&this.rules.splice(t,1),"movedown"==s&&t<this.rules.length-1){var a=this.rules[t];this.rules[t]=this.rules[t+1],this.rules[t+1]=a,this.$forceUpdate()}if("moveup"==s&&t>0){a=this.rules[t];this.rules[t]=this.rules[t-1],this.rules[t-1]=a,this.$forceUpdate()}e.target.value="default"},addCond:function(e){e.conds.push({type:"contain",data:"",datatype:"custom",paramA:"dest"})},addRule:function(){this.rules.push({errMessage:"新的要求",act:"displayError",conds:[{type:"contain",data:"",datatype:"custom",paramA:"dest"}]})}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"editArea"},[e._l(e.rules,function(t,a){return s("div",{staticClass:"rulePanel"},[s("select",{on:{change:function(t){e.editRule(t,a)}}},[s("option",{attrs:{value:"default",selected:""}},[e._v("规则"+e._s(a+1))]),e._v(" "),a>0?s("option",{attrs:{value:"moveup"}},[e._v("向上移动")]):e._e(),e._v(" "),a<e.rules.length-1?s("option",{attrs:{value:"movedown"}},[e._v("向下移动")]):e._e(),e._v(" "),s("option",{attrs:{value:"delete"}},[e._v("删除")])]),e._v(":应用于"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.env,expression:"rule.env"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"env",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"all"}},[e._v("全部")]),e._v(" "),e._l(e.ENVS,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])})],2),e._v(" "),e._l(t.conds,function(t,a){return s("div",[e._v("\n      "+e._s(0==a?"要求":"或者")+"\n      "),e.RULES[t.type].paramA&&e.RULES[t.type].paramB?s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.paramA,expression:"cond.paramA"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"paramA",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"origin"}},[e._v("原文")]),e._v(" "),s("option",{attrs:{value:"dest"}},[e._v("译文")])]),e._v("\n        与\n        "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.paramB,expression:"cond.paramB"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"paramB",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"origin"}},[e._v("原文")]),e._v(" "),s("option",{attrs:{value:"dest"}},[e._v("译文")])]),e._v("\n        中\n      ")]):e.RULES[t.type].paramA?s("span",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.paramA,expression:"cond.paramA"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"paramA",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"origin"}},[e._v("原文")]),e._v(" "),s("option",{attrs:{value:"dest"}},[e._v("译文")])]),e._v("\n        中\n      ")]):e._e(),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"cond.type"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"type",s.target.multiple?a:a[0])}}},e._l(e.RULES,function(t,a){return s("option",{domProps:{value:a}},[e._v(e._s(t.title))])})),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.datatype,expression:"cond.datatype"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"datatype",s.target.multiple?a:a[0])}}},[e._l(e.files,function(t,a){return s("option",{domProps:{value:a}},[e._v(e._s(t.name))])}),e._v(" "),s("option",{attrs:{value:"empty"}},[e._v("空")]),e._v(" "),s("option",{attrs:{value:"br"}},[e._v("换行")]),e._v(" "),s("option",{attrs:{value:"custom"}},[e._v("以下内容")])],2),e._v(" "),"custom"==t.datatype?s("div",{staticClass:"rule-data"},[s("Xeditor",{model:{value:t.data,callback:function(s){e.$set(t,"data",s)},expression:"cond.data"}})],1):e._e()])}),e._v(" "),s("div",{staticClass:"addCond",on:{click:function(s){e.addCond(t)}}},[e._v("+或者")]),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.removeMatched,expression:"rule.removeMatched"}],staticClass:"nck",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.removeMatched)?e._i(t.removeMatched,null)>-1:t.removeMatched},on:{change:function(s){var a=t.removeMatched,n=s.target,r=!!n.checked;if(Array.isArray(a)){var i=e._i(a,null);n.checked?i<0&&e.$set(t,"removeMatched",a.concat([null])):i>-1&&e.$set(t,"removeMatched",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(t,"removeMatched",r)}}}),e._v("之后的检测忽略匹配到的内容")]),e._v(" "),s("div",[e._v("\n      否则"),s("select",{directives:[{name:"model",rawName:"v-model",value:t.act,expression:"rule.act"}],on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"act",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"displayError"}},[e._v("提示：")]),e._v(" "),s("option",{attrs:{value:"exit"}},[e._v("结束检测")])]),e._v(" "),s("div",{staticClass:"rule-data"},[s("Xeditor",{model:{value:t.errMessage,callback:function(s){e.$set(t,"errMessage",s)},expression:"rule.errMessage"}})],1)])],2)}),e._v(" "),s("div",{staticClass:"addBtn",on:{click:e.addRule}},[e._v("新增规则")])],2)},staticRenderFns:[]};var v=s("VU/8")(u,d,!1,function(e){s("GSEp")},null,null).exports,m=s("n7dY"),p=s.n(m),h=s("d7EF"),f=s.n(h),g="*";function _(e){var t=e.split("\n"),s={src:[],dest:[],regRules:[]};for(var a in t){var n=t[a].split("#"),r=f()(n,2),i=r[0],l=r[1],c=void 0===l?"":l;if(i=i.trim(),c=c.trim(),i)if(-1!==i.indexOf(">>>")){if((d=i.split(">>>")).length<2)continue;v=(v=d[0].trim()).split("__");for(var o=0;o<v.length;o++){'"'==(u=v[o].trim()).charAt(0)&&'"'==u.charAt(u.length-1)&&(u=u.substr(1,u.length-2)),v[o]=u}s.src.push(v),m=(m=d[1].trim()).split("__");for(o=0;o<m.length;o++){var u;'"'==(u=m[o].trim()).charAt(0)&&'"'==u.charAt(u.length-1)&&(u=u.substr(1,u.length-2)),m[o]=u}s.dest.push(m)}else if(-1!==i.indexOf(">REG>")){var d;if((d=i.split(">REG>")).length<2)continue;var v=d[0].trim(),m=d[1].trim();s.regRules.push({src:new RegExp(v,"g"),dest:new RegExp(m,"g"),comment:c})}}return s}function A(e){for(var t={},s=0;s<e.length;s++){for(var a=e[s],n=t,r=0;r<a.length;r++)n[a[r]]||(n[a[r]]={}),n=n[a[r]];n.match=a}return t}function C(e){for(var t={},s=0;s<e.length;s++)for(var a=e[s],n=0;n<a.length;n++){for(var r=a[n],i=t,l=0;l<r.length;l++)i[r[l]]||(i[r[l]]={}),i=i[r[l]];i.match=s}return t}function b(e,t,s){var a=s;if((r=t.charAt(a))==g)return-1;for(var n=e[r];n&&a<t.length;){if(n.match)return{match:n.match,begin:s,end:a+1};var r;if(a++,(r=t.charAt(a))==g)break;n=n[r]}return!1}function R(e,t){for(var s={},a=0;a<t.length;a++){var n=a,r=t.charAt(n);if(r!=g)for(var i=e[r];i&&n<t.length;){if(void 0!==i.match){void 0===s[i.match]&&(s[i.match]=[]),s[i.match].push({match:i.match,begin:a,end:n+1}),a=n;break}if(n++,(r=t.charAt(n))==g)break;i=i[r]}}return s}function y(e){if("undefined"==typeof document)return e;var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}function x(e,t){for(var s="",a=0,n=0;n<t.length;n++)s+=y(e.substring(a,t[n].begin)),s+="<b>"+y(e.substring(t[n].begin,t[n].end))+"</b>",a=t[n].end;return s+=y(e.substring(a))}function w(e,t){for(var s="",a=0,n=0;n<t.length;n++){s+=e.substring(a,t[n].begin);for(var r=t[n].begin;r<t[n].end;r++)s+=g;a=t[n].end}return s+=e.substring(a)}var S={origin:"原文",dest:"译文"},k={match:{title:"一一对应",paramA:!0,paramB:!0,initRule:function(e){var t=_(e);return{srcRaw:t.src,destRaw:t.dest,src:C(t.src),dest:C(t.dest),regRules:t.regRules}},valid:function(e,t,s){var a=e.paramA,n=e.paramB,r=R(t.src,a),i=R(t.dest,n),l=[],c=[];for(var o in r){var u=r[o]||[],d=i[o]||[];l.push({matchA:u,matchB:d}),u.length!==d.length&&c.push({message:S[s.paramA]+"中的（"+t.srcRaw[o]+"）的数量与"+S[s.paramB]+"中的（"+t.destRaw[o]+"）数量不匹配， = "+u.length+":"+d.length,messageShort:"【"+t.srcRaw[o][0]+"】= "+u.length+":"+d.length,srcDiff:x(a,u),destDiff:x(n,d),matchA:u,matchB:d})}for(var o in i){u=r[o]||[],d=i[o]||[];0==u.length&&0!==d.length&&(l.push({matchA:u,matchB:d}),c.push({message:S[s.paramA]+"中的（"+t.srcRaw[o]+"）的数量与"+S[s.paramB]+"中的（"+t.destRaw[o]+"）数量不匹配， = "+u.length+":"+d.length,messageShort:"【"+t.srcRaw[o][0]+"】= "+u.length+":"+d.length,srcDiff:x(a,u),destDiff:x(n,d),matchA:u,matchB:d}))}for(var o in t.regRules){var v,m=t.regRules[o];for(u=[],d=[];(v=m.src.exec(a))&&(u.push({begin:v.index,end:v.index+v[0].length,match:v[0]}),0!=v[0].length););for(;(v=m.dest.exec(n))&&(d.push({begin:v.index,end:v.index+v[0].length,match:v[0]}),0!=v[0].length););r[o]=u,i[o]=d,l.push({matchA:u,matchB:d}),u.length!==d.length&&c.push({message:S[s.paramA]+"中的（"+m.src.source+"）的数量与"+S[s.paramB]+"中的（"+m.dest.source+"）数量不匹配， = "+u.length+":"+d.length,messageShort:"【"+(m.comment||m.src.source)+"】= "+u.length+":"+d.length,srcDiff:x(a,u),destDiff:x(n,d),matchA:u,matchB:d})}return{pass:0==c.length,errors:c,matches:l,message:""}}},matchA2B:{title:"原文对应译文",paramA:!0,paramB:!0,initRule:function(e){var t=_(e);return{srcRaw:t.src,destRaw:t.dest,src:C(t.src),dest:C(t.dest)}},valid:function(e,t,s){var a=e.paramA,n=e.paramB,r=R(t.src,a),i=R(t.dest,n),l=[],c=[];for(var o in r){var u=r[o]||[],d=i[o]||[];u.length>d.length?l.push({message:S[s.paramA]+"中的（"+t.srcRaw[o]+"）的数量小于"+S[s.paramB]+"中的（"+t.destRaw[o]+"）数量， = "+u.length+":"+d.length,messageShort:"【"+t.srcRaw[o][0]+"】= "+u.length+":"+d.length,srcDiff:x(a,u),destDiff:x(n,d),matchA:u,matchB:d}):d.splice(u.length,1e6),c.push({matchA:u,matchB:d})}return{pass:0==l.length,errors:l,message:"",matches:c}}},contain:{title:"不包含",paramA:!0,initRule:function(e){return A(e=e.split(/[\n]/))},valid:function(e,t,s){for(var a=e.paramA,n=[],r=0;r<a.length;r++){var i=b(t,a,r);i&&i.match&&n.push(i)}if(n.length)var l=[{message:S[s.paramA]+"不能包含"+n.map(function(e){return e.match}).join(","),messageShort:""+n.map(function(e){return"【"+e.match+"】(第"+(e.begin+1)+")"}).join(" "),destDiff:x(a,n)}];return{pass:0==n.length,errors:l,matches:n}}},onlyContain:{title:"只包含",paramA:!0,initRule:function(e){return A(e=e.split(/[\n,]/))},valid:function(e,t,s){for(var a=e.paramA,n=[],r=0;r<a.length;r++){0==b(t,a,r)&&n.push({begin:r,end:r+1,match:a.charAt(r)})}if(n.length)var i=[{message:S[s.paramA]+"中例外的字符"+n.map(function(e){return e.match}).join(","),messageShort:""+n.map(function(e){return"【"+e.match+"】(第"+(e.begin+1)+")"}).join(" "),destDiff:x(a,n),matchA:n}];return{pass:0==n.length,errors:i}}},endWith:{title:"结尾匹配",paramA:!0,initRule:function(e){return A(e.split("").reverse().join("").split(/[\n,]/))},valid:function(e,t,s){var a=b(t,e.paramA.split("").reverse().join(""),0),n=[],r=[];return a?r.push({message:S[s.paramA]+"结尾包含了"+a.match.split("").reverse().join(""),messageShort:""+a.match.split("").reverse().join(""),srcDiff:function(e,t){for(var s="",a=0,n=e.length,r=t.length-1;r>=0;r--)s+=y(e.substring(a,n-t[r].end)),s+="<b>"+y(e.substring(n-t[r].end,n-t[r].begin))+"</b>",a=n-t[r].begin;return s+=y(e.substring(a))}(e.paramA,[a]),matchA:[a]}):n.push({message:S[s.paramA]+"没有结尾要求内容",messageShort:""}),{pass:!!a,matches:r,errors:n}}},startWith:{title:"开头不匹配",paramA:!0,initRule:function(e){return A(e=e.split("\n"))},valid:function(e,t){var s=e.paramA,a=[],n=b(t,s,0);n&&a.push(n);var r=[{message:"不能以"+a.map(function(e){return e.match}).join(",")+"开头",messageShort:""+a.map(function(e){return e.match}).join(" "),destDiff:x(s,a)}];return{pass:0==r.length,errors:r}}},matchReg:{title:"符合正则表达式",paramA:!0,initRule:function(e){return{reg:new RegExp(e,"g")}},valid:function(e,t,s){var a=[];return e.paramA.match(t.reg)||a.push(S[s.paramA]+" 的内容"),{pass:0==a.length,errors:a}}},notMatchReg:{title:"不符合正则表达式",paramA:!0,initRule:function(e){e=e.split("#");var t=new RegExp(e[0].trim(),"g");return{reg:t,comment:(e[1]||t.source).trim()}},valid:function(e,t,s){var a,n=e.paramA,r=[],i=[];if(t.reg.source)for(;(a=t.reg.exec(n))&&(r.push({begin:a.index,end:a.index+a[0].length,match:a[0]}),0!=a[0].length););return 0!==r.length&&i.push({message:"正则表达式"+t.comment,messageShort:"【"+t.comment+"】",destDiff:x(n,r),matchA:r}),{pass:0==r.length,errors:i}}}};function E(e,t){for(var s in this.conds=[],this.errMessage=e.errMessage,this.removeMatched=e.removeMatched,this.act=e.act,this.env=e.env,e.conds){var a=e.conds[s];if("br"==a.datatype)var n={"\n":{match:"\n"}};else if("empty"==a.datatype)n="";else if("custom"==a.datatype)n=k[a.type].initRule.call(a,a.data);else n=k[a.type].initRule.call(a,t[a.datatype].data);this.conds.push({cond:a,parsed:n})}}k.notEndWith={title:"结尾不匹配",invert:!0,paramA:!0,initRule:k.endWith.initRule,valid:k.endWith.valid},E.prototype.valid=function(e){var t=null;for(var s in this.conds){var a=this.conds[s].cond,n=this.conds[s].parsed,r=k[a.type].valid({paramA:e[a.paramA],paramB:e[a.paramB]},n,a);if(Array.isArray(r.matches))for(var i=0;i<r.matches.length;i++){var l=r.matches[i];this.removeMatched&&(l.matchA?(e[a.paramA]=w(e[a.paramA],l.matchA),e[a.paramB]=w(e[a.paramB],l.matchB)):e[a.paramA]=w(e[a.paramA],l))}if(t=r,r.pass)return t.errMessage=this.errMessage,t}return t.errMessage=this.errMessage,t};var B=[];function M(){for(var e=0;e<T.length;e++)T[e]&&T[e]()}var T=[];var $={env:"all",RULES:k,BuildRules:function(e,t,s){for(var a in B=[],s=s,e)B.push(new E(e[a],t));M()},validData:function(e,t,s){for(var a={origin:e,dest:t},n=[],r=0;r<B.length;r++){var i=B[r];if("all"===i.env||$.env===i.env){var l=i.valid(a);if(0==l.pass&&"exit"==i.act){l.pass="结束检测",n.push(l);break}if(0==l.pass&&s)return-1;n.push(l)}}return s?1:n},onRuleChange:function(e){T.push(e)},setEnv:function(e){$.env=e,M()}},P=$,D={name:"SingleTest",data:function(){return{srcCode:"步骤1.2.2、根据步骤1.1.2中得到的有效路径和步骤1.2.1中得到的信道估计，由信道冲激响应器生成信道冲激响应H＝(h<sub>1</sub>，h<sub>2</sub>，Λ，h<sub>T</sub>)，其长度T表示系统支持的最大时延，该信道冲激响应有效路径位置上的值为该路径上的信道估计值，非有效路径位置上的值为零，即：",destCode:"ステップ1.2.2とステップ1.1.2で得られた有効パスとステップ1.2.1で得られたチャネル推定値はチャネルインパルス応答からチャネルインパルス応答生成H=(h1である，h2である，ΛはhT)，その長さTシステムによってサポートされる最大遅延を示す，チャネルインパルス有効パス位置応答上の値は、その経路上のチャネル推定値である，非有効パス位置上の値はゼロであり即：",cmpResult:[]}},components:{Xeditor:c},mounted:function(){var e=this;P.onRuleChange(function(){return e.cmp()}),this.cmp()},watch:{destCode:function(){this.cmp()},srcCode:function(){this.cmp()}},methods:{cmp:function(){this.cmpResult=P.validData(this.srcCode,this.destCode)}}},N={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"tests"}},[s("div",{staticClass:"textPanel"},[s("div",[s("h5",[e._v("原文:")]),s("xeditor",{model:{value:e.srcCode,callback:function(t){e.srcCode=t},expression:"srcCode"}})],1),e._v(" "),s("div",[s("h5",[e._v("译文:")]),s("xeditor",{model:{value:e.destCode,callback:function(t){e.destCode=t},expression:"destCode"}})],1)]),e._v(" "),e._l(e.cmpResult,function(t,a){return s("div",{class:t.pass?"respanel pass":"respanel error"},[e._v("\n    规则"+e._s(a+1)+":"+e._s(t.errMessage)+"\n    "),e._l(t.errors,function(t){return s("div",{staticClass:"errpanel"},[s("span",{staticClass:"errIcon"},[e._v("X")]),e._v(" "+e._s(t.message)+"\n      "),t.srcDiff?s("div",{staticClass:"diff"},[s("div",{staticClass:"line"},[e._v("原文："),s("span",{domProps:{innerHTML:e._s(t.srcDiff)}})])]):e._e(),e._v(" "),t.destDiff?s("div",{staticClass:"diff"},[s("div",{staticClass:"line"},[e._v("译文："),s("span",{domProps:{innerHTML:e._s(t.destDiff)}})])]):e._e()])})],2)})],2)},staticRenderFns:[]};var F={name:"MutiTest",data:function(){return{tests:[{src:"哈哈哈哈",dest:"広気況沖収効決乗巻",assume:1,res:void 0},{src:"哈哈哈哈",dest:"广气况冰冲收效决乘而并卷",assume:-1,res:void 0},{src:"︱",dest:"｜",assume:1,res:void 0},{src:"︱",dest:"︱",assume:-1,res:void 0},{src:"哈哈哈a1,。",dest:"哈哈哈ａ１，。",assume:1,res:void 0},{src:"哈哈哈a1,。",dest:"哈哈哈ａ１，",assume:-1,res:void 0},{src:"&lt;",dest:"＜",assume:1,res:void 0},{src:"&lt;",dest:"哈哈",assume:-1,res:void 0},{src:"&",dest:"哈哈",assume:-1,res:void 0},{src:"&",dest:"＆",assume:1,res:void 0},{src:"&lt;",dest:"&lt;",assume:-1,res:void 0},{src:"&lt;",dest:"<",assume:-1,res:void 0},{src:"é",dest:"&eacute;",assume:1,res:void 0},{src:"é",dest:"é",assume:-1,res:void 0},{src:"é",dest:"＆ｅａｃｕｔｅ；",assume:-1,res:void 0},{src:"ü",dest:"&uuml;",assume:1,res:void 0},{src:"¦",dest:"&brkbar;",assume:-1,res:void 0},{src:"w1& +,",dest:"ｗ１＆　＋，",assume:1,res:void 0},{src:"w1& +,",dest:"w1& +,",assume:-1,res:void 0},{src:"<sub></sub><sup></sup>",dest:"<sub></sub><sup></sup>",assume:1,res:void 0},{src:"<sub></sub><sup></sup>",dest:"＜ｓｕｂ＞＜／ｓｕｂ＞＜ｓｕｐ＞＜／ｓｕｐ＞",assume:-1,res:void 0},{src:"CO<sub>2</sub>",dest:"ＣＯ<sub>２</sub>",assume:1,res:void 0},{src:"CO<sub>2</sub>",dest:"CO<sub>2</sub>",assume:-1,res:void 0},{src:"哈哈哈哈",dest:"",assume:-1,res:void 0},{src:"哈哈哈哈",dest:"哈哈\n哈哈",assume:-1,res:void 0},{src:"——",dest:"－",assume:1,res:void 0},{src:"———",dest:"－－",assume:-1,res:void 0},{src:"哈哈哈哈",dest:"がに",assume:-1,res:void 0},{src:"哈哈哈<img ……/>哈哈哈",dest:"哈哈哈【ＩＭＧ】哈哈哈",assume:-1,res:void 0},{src:"哈哈哈<img ……/>哈哈哈",dest:"哈哈哈ＡＩＭＬＩＵ哈哈哈",assume:-1,res:void 0},{src:"哈哈哈<img ……/>哈哈哈",dest:"哈哈哈哈哈哈",assume:-1,res:void 0},{src:"哈哈哈<maths …>…</maths>哈哈哈",dest:"哈哈哈【MATH】哈哈哈",assume:-1,res:void 0},{src:"哈哈哈<tables …>…</tables>哈哈哈",dest:"哈哈哈ＡＩＭＬＩＵ哈哈哈",assume:1,res:void 0},{src:"哈哈--哈哈哈",dest:"哈哈－哈哈哈",assume:1,res:void 0},{src:"哈哈--哈哈哈",dest:"哈哈－－哈哈哈",assume:-1,res:void 0}]}},components:{Xeditor:c},watch:{},mounted:function(){var e=this;p.a.GET("//"+location.hostname+":3000/tests",function(t){for(var s=0;s<t.length;s++)a.a.set(t[s],"editing",!1),a.a.set(t[s],"res","");e.tests=t})},methods:{cmp:function(){for(var e=0;e<this.tests.length;e++){var t=this.tests[e];t.res=P.validData(t.src,t.dest,1)}},add:function(){this.tests.push({src:"",dest:"",assume:1,editing:!0})},saveCase:function(e){e.editing=!e.editing},deleteCase:function(e){for(var t=0;t<this.tests.length;t++){e==this.tests[t]&&this.tests.splice(t,1)}},check:function(e){this.$emit("check",e)},changeAssume:function(e){e.assume=-e.assume},saveAll:function(){p.a.POSTStr("//"+location.hostname+":3000/tests",r()(this.tests),function(e){alert("保存成功")})},mapStatus:function(e){return 1==e?"✔":-1==e?"✘":void 0}}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"mutiTest"}},[s("div",{staticClass:"addBtn",on:{click:e.cmp}},[e._v("执行测试")]),e._v(" "),e._m(0),e._v(" "),e._l(e.tests,function(t){return s("div",[t.editing?s("div",{staticClass:"line",class:{err:t.res&&t.assume!==t.res,pass:t.res&&t.assume===t.res}},[s("div",{staticClass:"cell cellFull"},[s("Xeditor",{model:{value:t.src,callback:function(s){e.$set(t,"src",s)},expression:"testCase.src"}})],1),e._v(" "),s("div",{staticClass:"cell cellFull"},[s("Xeditor",{model:{value:t.dest,callback:function(s){e.$set(t,"dest",s)},expression:"testCase.dest"}})],1),e._v(" "),s("div",{staticClass:"cell",on:{click:function(s){e.changeAssume(t)}}},[e._v(e._s(e.mapStatus(t.assume)))]),e._v(" "),s("div",{staticClass:"cell"},[e._v(e._s(e.mapStatus(t.res)))]),e._v(" "),s("div",{staticClass:"cell"},[s("div",{staticClass:"smallbtn",on:{click:function(s){e.saveCase(t)}}},[e._v("确定")])]),e._v(" "),s("div",{staticClass:"cell"},[s("div",{staticClass:"smallbtn",on:{click:function(s){e.deleteCase(t)}}},[e._v("删除")])])]):s("div",{staticClass:"line",class:{err:t.res&&t.assume!==t.res,pass:t.res&&t.assume===t.res}},[s("div",{staticClass:"cell cellFull"},[e._v(e._s(t.src))]),e._v(" "),s("div",{staticClass:"cell cellFull"},[e._v(e._s(t.dest))]),e._v(" "),s("div",{staticClass:"cell"},[e._v(e._s(e.mapStatus(t.assume)))]),e._v(" "),s("div",{staticClass:"cell"},[e._v(e._s(e.mapStatus(t.res)))]),e._v(" "),s("div",{staticClass:"cell"},[s("div",{staticClass:"smallbtn",on:{click:function(s){e.saveCase(t)}}},[e._v("编辑")])]),e._v(" "),s("div",{staticClass:"cell"},[s("div",{staticClass:"smallbtn",on:{click:function(s){e.check(t)}}},[e._v("详情")])])])])}),e._v(" "),s("div",{staticClass:"line"},[s("div",{staticClass:"addBtn",on:{click:e.add}},[e._v("添加测试")]),e._v(" "),s("div",{staticClass:"addBtn",on:{click:e.saveAll}},[e._v("保存")])])],2)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line"},[s("div",{staticClass:"cell cellFull"},[e._v("原文")]),e._v(" "),s("div",{staticClass:"cell cellFull"},[e._v("译文")]),e._v(" "),s("div",{staticClass:"cell"},[e._v("预期")]),e._v(" "),s("div",{staticClass:"cell"},[e._v("结果")]),e._v(" "),s("div",{staticClass:"cell"},[e._v("编辑")]),e._v(" "),s("div",{staticClass:"cell"},[e._v("详情")])])}]};var U={name:"App",data:function(e){return{fileId:0,ruleId:0,editing:"rule",testing:"single"}},components:{RuleEditor:v,SingleTest:s("VU/8")(D,N,!1,function(e){s("dgau")},null,null).exports,MutiTest:s("VU/8")(F,O,!1,function(e){s("9Uwc")},null,null).exports,Xeditor:c},computed:Object(o.b)(["rules","files"]),methods:{save:function(){var e=r()({rules:this.rules,files:this.files});p.a.POSTStr("//"+location.hostname+":3000/config",e,function(e){alert("保存成功")})},test:function(e){this.testing=e},addFile:function(){this.files.push({name:"新增数据",data:""}),this.editing="file",this.fileId=this.files.length-1},editFile:function(e){this.editing="file",this.fileId=e},editItem:function(e){this.editing="rule",this.ruleId=e},setEnv:function(e){P.setEnv(e.target.value)},check:function(e){this.testing="single",this.$refs.single.srcCode=e.src,this.$refs.single.destCode=e.dest}}},H={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"rules"}},[s("div",{staticClass:"sidebar"},[s("div",{staticClass:"item",class:{active:"rule"==e.editing&&0==e.ruleId},on:{click:function(t){e.editItem(0)}}},[e._v("P")]),e._v(" "),e._l(e.files,function(t,a){return s("div",{staticClass:"item file",class:{active:"file"==e.editing&&e.fileId==a},on:{click:function(t){e.editFile(a)}}},[e._v(e._s(t.name))])}),e._v(" "),s("div",{staticClass:"item file new",on:{click:function(t){e.addFile()}}},[e._v("+")]),e._v(" "),s("div",{staticClass:"item save",on:{click:function(t){e.save()}}},[e._v("保存")])],2),e._v(" "),e._l(e.files,function(t,a){return"file"==e.editing&&e.fileId==a?s("div",{staticClass:"fileArea"},[s("h4",[e._v("名称")]),e._v(" "),s("Xeditor",{model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"file.name"}}),e._v(" "),s("h4",[e._v("内容")]),e._v(" "),s("Xeditor",{model:{value:t.data,callback:function(s){e.$set(t,"data",s)},expression:"file.data"}})],1):e._e()}),e._v(" "),"rule"==e.editing?s("RuleEditor"):e._e(),e._v(" "),s("div",{staticClass:"testArea"},[s("select",{on:{change:function(t){e.setEnv(t)}}},e._l(e.ENVS,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),s("SingleTest",{directives:[{name:"show",rawName:"v-show",value:"single"==e.testing,expression:"testing=='single'"}],ref:"single"}),e._v(" "),s("MutiTest",{directives:[{name:"show",rawName:"v-show",value:"muti"==e.testing,expression:"testing=='muti'"}],on:{check:e.check}})],1),e._v(" "),s("div",{staticClass:"sidebar"},[s("div",{staticClass:"item",class:{active:"single"==e.testing},on:{click:function(t){e.test("single")}}},[e._v("自定义测试")]),e._v(" "),s("div",{staticClass:"item",class:{active:"muti"==e.testing},on:{click:function(t){e.test("muti")}}},[e._v("完全测试")])])],2)},staticRenderFns:[]};var I=s("VU/8")(U,H,!1,function(e){s("e/h5")},null,null).exports;a.a.use(o.a),a.a.config.productionTip=!1;var j=new o.a.Store({state:{rules:[],files:[]},getters:{getRules:function(e){return e.rules}},mutations:{setRuleAndFile:function(e,t){var s=t.rules,a=t.files;e.rules=s,e.files=a,P.BuildRules(e.rules,e.files)}}});j.watch(function(e){return e.rules},function(e,t){P.BuildRules(j.state.rules,j.state.files)},{deep:!0}),j.watch(function(e){return e.files},function(e,t){P.BuildRules(j.state.rules,j.state.files)},{deep:!0}),p.a.GET("//"+location.hostname+":3000/config",function(e){for(var t=0;t<e.rules.length;t++)e.rules[t].env=e.rules[t].env||"all";j.commit("setRuleAndFile",e),new a.a({el:"#app",store:j,components:{App:I},template:"<App/>"})}),a.a.prototype.ENVS=["P-all","P-sum","IP-all","IP-sum"],a.a.prototype.RULES=P.RULES},dgau:function(e,t){},"e/h5":function(e,t){},n7dY:function(e,t){function s(e,t,s,a){var n=new XMLHttpRequest;n.open(e,t),"POST"==e&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var r=[];for(var i in s)r.push(encodeURIComponent(i)+"="+encodeURIComponent(s[i]));n.onreadystatechange=function(){if(4==n.readyState){if(200==n.status){var e=JSON.parse(n.responseText);a(e)}n.onreadystatechange=null}},n.send(r.join("&"))}e.exports={GET:function(e,t){s("GET",e,{},t)},POST:function(e,t,a){s("POST",e,t,a)},POSTStr:function(e,t,s){var a=new XMLHttpRequest;a.open("POST",e),a.onreadystatechange=function(){if(4==a.readyState){if(200==a.status){var e=JSON.parse(a.responseText);s(e)}a.onreadystatechange=null}},a.send(t)}}},qYi2:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e852b0ad64523bb4c438.js.map